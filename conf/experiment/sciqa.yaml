# conf/experiment/sciqa.yaml
# ç”¨é€”: SciKnowEval è‡ªåˆ‡åˆ†å®éªŒ (80% Memory / 20% Test)
tag: "sci"
corpus: "sci"
# 1. è®°å¿†åº“é…ç½®
# è¿™é‡Œå¡«ä»€ä¹ˆä¸é‡è¦ï¼Œå› ä¸º prepare_data æ£€æµ‹åˆ° tag="sci" ä¼šè‡ªåŠ¨ç”Ÿæˆæ–‡ä»¶è¦†ç›–å®ƒ
# ä½†ä¸ºäº†è·¯å¾„è§£ææ­£å¸¸ï¼Œä¿ç•™ä¸€ä¸ªåå­—å ä½
corpus_dataset_name: "hicai-zju/SciKnowEval" 
corpus_dataset_config: null
corpus_split: "test"

# 2. æµ‹è¯•é›†é…ç½®
# åŒä¸Šï¼Œä»£ç ä¼šè‡ªåŠ¨ç”Ÿæˆ
test_dataset_name: "hicai-zju/SciKnowEval"
test_dataset_config: null
test_split: "test"

visualize_memory: True

# å­—æ®µæ˜ å°„ (SciKnowEval æ ‡å‡†å­—æ®µ)
field_map:
  question: "question"
  answer: "answer"

total_limit: 2000
# å¯é€‰å€¼é€šå¸¸ä¸º: "Biology", "Chemistry", "Physics", "Material Science"
# å¦‚æœæƒ³è·‘æ··åˆæ¨¡å¼ï¼Œå°±è®¾ä¸º null
target_domain: "Chemistry"
# RAG å‚æ•° (BEMR å¿…é¡»)
retrieval_method: "bm25"

# ----------------------------------------------------
# ğŸ”¥ [é‡ç‚¹ä¿®æ”¹] Prompt é…ç½®
# ----------------------------------------------------
prompts:
  # 1. ç³»ç»Ÿæç¤ºè¯ (ç”¨äºé RAG çš„ç›´æ¥å›ç­”ï¼Œæˆ–è€…å…œåº•)
  # ä¿®æ”¹é€»è¾‘ï¼šåˆ æ‰ Yes/Noï¼Œå¼ºè°ƒè¾“å‡º Option Letter
  sys_msg : |
    You are a scientific domain expert. 
    The user will provide a question with options (e.g., A, B, C, D).
    Analyze the question and select the correct option.
    
    IMPORTANT: 
    - Output ONLY the option letter enclosed in \boxed{{}}.
    - For example: \boxed{{A}} or \boxed{{B}}.
    - Do NOT output "Yes", "No", "True", or "False". Only the letter.
  
  # 2. RAG ç³»ç»Ÿæç¤ºè¯ (æ ¸å¿ƒ)
  # ä¿®æ”¹é€»è¾‘ï¼šç»Ÿç»Ÿå½’ä¸€åŒ–ä¸ºé€‰æ‹©é¢˜é€»è¾‘
  rag_system: |
        You are a scientific expert. Below are some similar solved problems (references). 
        Refer to the logic in these examples to solve the new question.
        
        ### Instructions:
        1. Read the question and the provided options carefully.
        2. If it looks like a True/False question, treat "True" as Option A and "False" as Option B.
        3. Think step by step to derive the correct answer.
        4. Your final output MUST be the option letter enclosed in \boxed{{}}.
        
        ### Format Example:
        If the answer is Option A, output: \boxed{{A}}
        
        {reference}
        
        ### New Question:
        {question}
        
        ### Answer:
        Let's think step by step.