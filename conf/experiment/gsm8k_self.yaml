# conf/experiment/gsm8k_self.yaml
tag: "gsm8k_self"
corpus: "GSM8K"
mode: "all" 

# 1. è®°å¿†åº“é…ç½® (GSM8K)
corpus_dataset_name: "openai/gsm8k"
corpus_dataset_config: "main"
corpus_split: "train"

# 2. æµ‹è¯•é›†é…ç½®
test_dataset_name: "openai/gsm8k"
test_dataset_config: "main"
test_split: "test"

visualize_memory: True

# ğŸ”¥ å…³é”®ä¿®æ”¹ï¼šå­—æ®µæ˜ å°„
# MATH çš„åˆ—åæ˜¯ problem/solution
# GSM8K çš„åˆ—åæ˜¯ question/answer
field_map:
  question: "question"
  answer: "answer"

# RAG å‚æ•°
retrieval_topk: 3
retrieval_method: "bm25"
reward: 2
punishment: -1

# Prompt å»ºè®®å¾®è°ƒï¼š
# GSM8K æ˜¯å°å­¦æ•°å­¦åº”ç”¨é¢˜ï¼Œæ›´å¼ºè°ƒ Step-by-step reasoningã€‚
# åŸæ¥çš„ Prompt å¼ºåˆ¶è¦æ±‚ "brief" (ç®€çŸ­) å’Œ "fractions" (åˆ†æ•°)ï¼Œå¯èƒ½ä¸å¤ªé€‚åˆ GSM8K çš„é£æ ¼ã€‚
# ä¸‹é¢æ˜¯ä¸€ä¸ªé€‚é… GSM8K çš„ Prompt ç‰ˆæœ¬ï¼š
prompts:
  sys_msg : |
    "You are a math expert. Solve the grade school math problem step by step. End your answer with \boxed{number}."
  
  rag_system: |
        You are a math expert. Below are some similar solved problems. Refer to the logic in these examples to solve the new question.
        Solve the problem step by step to ensure accuracy.
        âš ï¸ IMPORTANT: You MUST put the final answer within \boxed{{}}. For example: \boxed{{10}}.
        {reference}
        ### Question:
        {question}
        ### Answer:
        Let's think step by step.